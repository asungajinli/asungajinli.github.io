---
layout: single
title: "IAM"
categories: Study AWS
tag: AWS
toc: true
sidebar:
  title: "AWS"
  nav: aws
author_profile: false
---

# IAM 소개

"AWS Identity and Access Management(IAM)를 사용하면 AWS 서비스와 리소스에 대한 엑세스를 안전하게 관리할 수 있습니다. 또한, AWS 사용자 및 그룹을 만들고 관리하며 AWS 리소스에 대한 액세스를 허용 및 거부할 수 있습니다."


- AWS 어카운트 관리 및 리소스/사용자/서비스의 권한 제어
    - 인증 정보 부여
- 사용자 생성, 관리, 계정의 보안
    - 사용자의 패스워드 정책 관리
- 다른 계정과 리소스 공유
  - Identity Federation (Facebook 로그인, 구글 로그인 등)
- 계정에 별명 부여 가능 → 로그인 주소 생성 가능
- IAM은 글로벌 서비스 (Region 별 서비스 아님)

# IAM 구성

- 사용자
  - 실제 AWS를 사용하는 사람 혹은 어플리케이션
- 그룹
  - 사용자의 집합
  - 그룹에 속한 사용자는 그룹에 부여된 권한 행사
- 정책
  - 사용자의 그룹, 역할이 무엇을 할 수 있는지 정의
  - JSON 형식
- 역할
  - AWS 리소스에 부여 및 AWS 리소스가 무엇을 할 수 있는지 정의
  - 혹은 다른 사용자가 역할을 부여 받아 사용
  - 다른 자격에 대한 신뢰관계 구축
  - 역할을 바꿔가며 서비스 사용 가능

JSON
  - JavaScript Object Notation
  - 주로 다양한 프로그램 간의 데이터 주고받기
  - 다양한 언어에서 언어 혹은 플러그인으로 사용 가능
  - 키-밸류 구성

# 실습

<aside>
✅ **Course**

1. AWS 계정 생성
2. 루트 유저로 로그인
3. 루트 유저 MFA 설정 및 계정 별명 생성
→ OTP App(Google, MS, …) 필요
4. 관리 권한(Admin Access)를 가진 IAM 유저 생성 및 MFA 설정
5. 루트 유저로 로그아웃 및 IAM 유저로 로그인 (계정 별명 활용)
</aside>

## 1. AWS 계정 생성

1. [AWS 사이트](https://aws.amazon.com/ko/) 접속 → 우측 상단 `AWS 계정 생성` 버튼 클릭
2. 생성 절차에 따라 계정을 생성한다.

<img src="/images/aws/2.1-1.png" width="70%" height="70%">

## 2. 루트 유저로 로그인

1. 로그인 후 **서울**로 리전 변경.
2. `보안 자격 증명` 클릭.

<img src="/images/aws/2.1-2.png" width="70%" height="70%">

## 3. 루트 유저 MFA 설정 및 계정 별명 생성

1. `MFA 할당` 클릭.
2. 인증 앱에서 QR 코드를 인증하고, 등록한다.
    1. 휴대 전화 분실 시 복구를 위해 QR 코드는 따로 저장해 놓는다.
3. MFA 할당 후 `대시보드`를 눌러 별칭을 생성한다.

<img src="/images/aws/2.1-3.png" width="70%" height="70%">

## 4. 관리 권한(Admin Access)를 가진 IAM 유저 생성 및 MFA 설정

1. `사용자`를 클릭 후 `사용자 추가` 클릭
2. 사용자 세부 정보 지정.
    1. 사용자 이름 : admin
    2. ✅`AWS Management Console에 대한 사용자 액세스 권한 제공` 체크
    3. ✅`IAM 사용자를 생성하고 싶음` 체크
    4. `사용자 지정 암호` 생성
    5. 🟩`사용자는 다음 로그인 시 새 암호를 생성해야 합니다.` 체크 해제
3. 권한 설정
    1. 권한 옵션 - `직접 정책 연결`
    2. 권한 정책 - ✅`AdministratorAccess`
    AdministratorAccess → **Billing을 제외한** 모든 권한 부여.
4. 검토 및 사용자 생성
5. csv. 파일 다운로드 및 완료
    1. 콘솔 암호는 절대 공개하지 않는다.
6. admin 사용자 클릭 후 MFA를 활성화한다.

<img src="/images/aws/2.1-4.png" width="70%" height="70%">

## 5. 루트 유저로 로그아웃 및 IAM 유저로 로그인 (계정 별명 활용)
<img src="/images/aws/2.1-5.png" width="70%" height="70%">
---