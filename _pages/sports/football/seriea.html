---
layout: single
permalink: /sports/football/seriea/
author_profile: false
sidebar:
  title: <a href="/sports/football/">Football</a>
  nav: football
  parent: true
---
<div class="table_container">
  <div id="banner" class="football_title"></div>
</div>
<hr>

<div class="table_container">
  <div id="standings" class="football_title" style="text-transform:uppercase;">Standings</div>
  <div id="continental" style="margin-left:6.5vmin;"></div>
  <div data-include-path="/data/football/europe/{{ page.name|replace:'.html','' }}-standings.html"></div>
</div>

<div class="calendar">
  <div id="match_review" class="football_title" style="text-transform:uppercase;">Match Review</div>
  <div class="col leftCol">
    <input id="spoiler-toggle" onchange="toggleSpoilerClass()" type="checkbox" class="switch" style="float:right;margin-right:1.2vmin;" checked>
      <label for="spoiler-toggle" style="font-size:1.3vmin;float:right;margin-right:0.5vmin;color:white;">스포일러</label>
    </input>
    <div class="content">
      <h1 id="date-this" class="date"></h1>
      <div class="notes">
        <ul class="noteList">
        </ul>
      </div>
    </div>
  </div>

  <div class="col rightCol">
    <div class="content">
      <a class="go-prev" style="text-decoration: none;"><</a>
      <h2 id="month-this" class="years"></h2>
      <a class="go-next" style="text-decoration: none;">></a>
      <div class="clearfix"></div>
      <ul class="weekday">
        <li><a style="text-decoration: none; color: #F0383B;" data-value="7">Sun</a></li>
        <li><a style="text-decoration: none;" data-value="1">Mon</a></li>
        <li><a style="text-decoration: none;" data-value="2">Tue</a></li>
        <li><a style="text-decoration: none;" data-value="3">Wed</a></li>
        <li><a style="text-decoration: none;" data-value="4">Thu</a></li>
        <li><a style="text-decoration: none;" data-value="5">Fri</a></li>
        <li><a style="text-decoration: none;" data-value="6">Sat</a></li>
      </ul>
      <div class="clearfix"></div>
      <ul class="days">
        <script>
          const now = new Date();
          const getCalendar = (date) => {
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const week = date.getDay();
            const weekArr = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            const weekFullArr = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const weekStr = weekFullArr[week];
            const monthArr = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
            const monthStr = monthArr[month - 1];
            const firstDay = new Date(date.setDate(1));
            const lastDay = new Date(year, month, 0);
            const lastDayNum = lastDay.getDate();
            const startDay = firstDay.getDay();
            const calendar = document.querySelector('.days');
            const limitDay = startDay + lastDayNum;
            const nextDay = Math.ceil(limitDay / 7) * 7;

            let data = ''
            document.getElementById("date-this").innerHTML = weekStr + "<br>" + monthStr + " " + day;
            document.getElementById("month-this").innerHTML = year + "." + month;

            for (let i = 0; i < startDay; i++){
              data += '<li></li>';
            }

            for (let i = 1; i <= lastDayNum; i++){
              var addClass = '';

              if( year === now.getFullYear() && month === now.getMonth()+1 && i === now.getDate() ){ addClass = ' class="selected"'; } // selected = today
              var yearNew = new Date(year, month - 1, i).getFullYear();
              var weekNew = new Date(year, month - 1, i).getDay();
              var weekStrNew = weekFullArr[weekNew];
              data += '<li><a onclick="select(this)" title="'+i+'" data-value="'+weekStrNew+'<br>'+month+'<br>'+monthStr+'<br>'+i+'<br>'+yearNew+'"'+addClass+'>'+i+'</a></li>';

            }

            for (let i = 0; i < startDay; i++){
              data += '<li></li>';
            }

            calendar.innerHTML = data;

          }
          const date = new Date();
          getCalendar(date);

          document.querySelector(`.go-prev`).onclick = () => {
          getCalendar(new Date(date.setMonth(date.getMonth() - 1)));
          }

          // 다음달 이동
          document.querySelector(`.go-next`).onclick = () => {
          getCalendar(new Date(date.setMonth(date.getMonth() + 1)));
          }

        </script>
      </ul>
      <div class="clearfix"></div>
    </div>
  </div>

  <div class="clearfix"></div>

</div>
<p></p>

<div id="customers"></div>
<hr>

<script>
  var league = "{{ page.name|replace:'.html','' }}";
  let banner = document.getElementById("banner");
  let standings = document.getElementById("standings");
  let match_review = document.getElementById("match_review");
  let continental = document.getElementById("continental");

  if (league == 'seriea') {
    continental.innerHTML = '<div style="display:inline-block;float:left; border-radius:0.7vmin; width:2vmin; height:2vmin; background-color:#1e746a;"></div>'+
                            '<div style="display:inline-block;float:left;margin:-0.1vmin 2vmin 0 0.6vmin;">챔피언스 리그</div>'+
                            '<div style="display:inline-block;float:left; border-radius:10px; width:2vmin; height:2vmin; background-color:#3426b1;"></div>'+
                            '<div style="display:inline-block;float:left;margin:-0.1vmin 2vmin 0 0.6vmin;">유로파 리그</div>'+
                            '<div style="display:inline-block;float:left; border-radius:10px; width:2vmin; height:2vmin; background-color:#15bfdd;"></div>'+
                            '<div style="display:inline-block;float:left;margin:-0.1vmin 2vmin 0 0.6vmin;">컨퍼런스 리그</div>'+
                            '<div style="display:inline-block;float:left; border-radius:10px; width:2vmin; height:2vmin; background-color:#ad2022;"></div>'+
                            '<div style="display:inline-block;float:left;margin:-0.1vmin 0 0 0.6vmin;">강등</div>';
    banner.style.color="#1A1659";
    match_review.style.fontFamily=standings.style.fontFamily=banner.style.fontFamily="DIN Next Bold";
    banner.innerHTML = "<img style='height:8vmin;margin:0 4vmin 0 -4vmin;' src='/images/football/main_page/seriea-logo.png'/>SERIE A";}

  console.log(league);

  function select(val){
    var checkbox = document.getElementById("spoiler-toggle");
    if (checkbox.checked == false){checkbox.checked = !checkbox.checked;}
    var date_info = $(val).attr('data-value').split('<br>');
    document.getElementById("date-this").innerHTML = date_info[0] + "<br>" + date_info[2] + " " + date_info[3];

    const xhr = new XMLHttpRequest();

    xhr.open('GET', "/data/football/europe/{{ page.name|replace:'.html','' }}-matches.json", true);

    xhr.onload = function(){
      if(this.status === 200) {
        // console.log(this.responseText);
        const customers = JSON.parse(this.responseText);

        let output = '';

        customers.forEach(function(customer){
          date_info[1] = String(date_info[1]).padStart(2, "0")
          date_info[3] = String(date_info[3]).padStart(2, "0")
          if (customer.Date == date_info[4]+'-'+date_info[1]+'-'+date_info[3]) {
            output += `
              <li>
                <a class="match-list" href="/sports/football/{{ page.name|replace:'.html','' }}/${date_info[1]}.${date_info[3]}-${customer.Home}${customer.Away}" style="text-decoration:none; color:#f2f2f2;">
                  <p style="line-height:2.5vmin;padding-left:3.5vmin;text-indent:-3.5vmin;">${customer.Wk}R&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;${customer.HomeLogo}
                    <span class="spoiler active" onmouseleave="removeActiveClass(this)">&nbsp;${customer.Score}&nbsp;</span>
                    ${customer.AwayLogo}
                  </p>
                </a>
              </li>`
          ;
          }
        });

        document.querySelector('.noteList').innerHTML = output;
      }
    }

    xhr.send();
  }
  function removeActiveClass(element) {
    var spoilers = document.getElementsByClassName("spoiler");
    for (var i = 0; i < spoilers.length; i++) {
      var spoiler = spoilers[i];
      if (spoiler === element) {
        spoiler.classList.remove("active");
      }
    }
  }
  function toggleSpoilerClass() {
    var checkbox = document.getElementById("spoiler-toggle");
    var spoilers = document.getElementsByClassName("spoiler");

    for (var i = 0; i < spoilers.length; i++) {
      var spoiler = spoilers[i];

      if (checkbox.checked) {
        spoiler.classList.add("active");
      } else {
        spoiler.classList.remove("active");
      }
    }
  }
</script>